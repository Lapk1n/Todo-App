{"version":3,"sources":["pages/About.js","components/Nav.js","context/alert/AlertContext.js","context/Firebase/Types.js","context/Firebase/FirebaseReducer.js","context/Firebase/FirebaseContext.js","components/Form.js","components/Notes.js","components/Loader.js","pages/Home.js","context/alert/Alert.js","App.js","reportWebVitals.js","index.js"],"names":["About","className","Nav","exact","to","AlertContext","React","createContext","SHOW_ALERT","HIDE_ALERT","reducer","state","action","type","visible","text","value","useAlertProvider","useContext","AlertProvider","children","useReducer","dispatch","Provider","alert","show","hide","SHOW_LOADER","ADD_NOTE","DEL_NOTE","FETCH_NOTES","checkIterable","obj","payload","loading","notes","filter","item","id","FirebaseContext","url","process","useFirebaseProvider","FirebaseProvider","showLoader","fetchNotes","a","axios","get","res","data","Object","keys","map","key","addNote","title","note","date","Date","toJSON","post","name","Error","message","delNote","delete","Form","useState","setValue","onSubmit","e","preventDefault","trim","setTimeout","validation","onChange","target","placeholder","Notes","TransitionGroup","component","index","CSSTransition","timeout","classNames","toLocaleDateString","onClick","Loader","role","Home","useEffect","Alert","in","mountOnEnter","unmountOnExit","aria-label","aria-hidden","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5c927ed.chunk.js","sourcesContent":["import React from 'react'\nimport '../App.css'\n\nfunction About() {\n  return (\n    <div className=\"jumbotron\">\n      <div className=\"container\">\n        <h1 className=\"display-4\">About page</h1>\n        <p className=\"lead\">Версия приложения 1.0.42</p>\n      </div>\n    </div>\n  )\n}\n\nexport default About\n","import React from 'react'\nimport '../App.css'\nimport { NavLink } from 'react-router-dom'\n\nfunction Nav() {\n  return (\n    <nav className=\"navbar navbar-dark navbar-expand-lg  bg-primary\">\n      <div className=\"nav_logo\">\n        <h2>Todo App</h2>\n      </div>\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item\">\n          <NavLink exact className=\"nav-link\" to=\"/\">\n            Главная\n          </NavLink>\n        </li>\n        <li className=\"nav-item\">\n          <NavLink className=\"nav-link\" to=\"/about\">\n            Информация\n          </NavLink>\n        </li>\n      </ul>\n    </nav>\n  )\n}\n\nexport default Nav\n","import React, { useContext, useReducer } from 'react'\nconst AlertContext = React.createContext()\n\nconst SHOW_ALERT = 'SHOW_ALERT'\nconst HIDE_ALERT = 'HIDE_ALERT'\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_ALERT:\n      return { ...state, visible: true, text: action.text, value: action.value }\n    case HIDE_ALERT:\n      return { ...state, visible: false }\n    default:\n      return state\n  }\n}\nexport const useAlertProvider = () => {\n  return useContext(AlertContext)\n}\n\nexport default function AlertProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, { visible: false })\n  const show = (text, value) => dispatch({ type: SHOW_ALERT, text, value })\n  const hide = () => dispatch({ type: HIDE_ALERT })\n\n  return <AlertContext.Provider value={{ alert: state, show, hide }}>{children}</AlertContext.Provider>\n}\n","export const SHOW_LOADER = 'SHOW_LOADER'\nexport const ADD_NOTE = 'ADD_NOTE'\nexport const DEL_NOTE = 'DEL_NOTE'\nexport const FETCH_NOTES = 'FETCH_NOTES'\nexport const CHANGE_NOTE = 'CHANGE_NOTE'\n","import { SHOW_LOADER, ADD_NOTE, DEL_NOTE, FETCH_NOTES, CHANGE_NOTE } from './Types'\nconst checkIterable = (obj, action) => {\n  if (obj) return [...obj, action.payload]\n  return [action.payload]\n}\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_LOADER:\n      return { ...state, loading: true }\n    case ADD_NOTE:\n      return { ...state, notes: checkIterable(state.notes, action) }\n    case DEL_NOTE:\n      return { ...state, notes: state.notes.filter((item) => item.id !== action.id) }\n    case FETCH_NOTES:\n      return { ...state, notes: action.payload, loading: false }\n\n    default:\n      return state\n  }\n}\n","import React, { useContext, useReducer } from 'react'\nimport { reducer } from './FirebaseReducer'\nimport axios from 'axios'\nimport { SHOW_LOADER, ADD_NOTE, DEL_NOTE, FETCH_NOTES, CHANGE_NOTE } from './Types'\nconst FirebaseContext = React.createContext()\nconst url = process.env.REACT_APP_DB_URL\n\nexport const useFirebaseProvider = () => {\n  return useContext(FirebaseContext)\n}\n\nexport default function FirebaseProvider({ children }) {\n  const initialState = {\n    notes: [],\n    loading: false,\n  } // Является образцом state. Дальнейшие изменения по данному образцу\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  const showLoader = () => dispatch({ type: SHOW_LOADER })\n\n  const fetchNotes = async () => {\n    showLoader()\n    const res = await axios.get(`${url}/notes.json`)\n    let payload\n\n    if (res.data !== null) {\n      payload = Object.keys(res.data).map((key) => {\n        return {\n          ...res.data[key],\n          id: key,\n        }\n      })\n    } else {\n      payload = null\n    }\n    dispatch({ type: FETCH_NOTES, payload })\n  }\n\n  const addNote = async (title) => {\n    const note = {\n      title,\n      date: new Date().toJSON(),\n    }\n\n    try {\n      const res = await axios.post(`${url}/notes.json`, note)\n\n      const payload = {\n        ...note,\n        id: res.data.name,\n      }\n\n      dispatch({ type: ADD_NOTE, payload })\n    } catch (e) {\n      throw new Error(e.message)\n    }\n  }\n\n  const delNote = async (id) => {\n    dispatch({ type: DEL_NOTE, id })\n    await axios.delete(`${url}/notes/${id}.json`)\n  }\n\n  // console.log(state) // Объект state существует в памяти, но физически его нет\n\n  return <FirebaseContext.Provider value={{ notes: state.notes, loading: state.loading, addNote, delNote, fetchNotes, showLoader }}>{children}</FirebaseContext.Provider>\n}\n","import React, { useState } from 'react'\nimport { useAlertProvider } from '../context/alert/AlertContext'\nimport { useFirebaseProvider } from '../context/Firebase/FirebaseContext'\n\nexport default function Form() {\n  const [value, setValue] = useState('')\n  const { show, hide } = useAlertProvider()\n  const { addNote } = useFirebaseProvider()\n\n  const validation = (e) => {\n    e.preventDefault()\n    if (value.trim()) {\n      addNote(value)\n      show('Заметка создана', 'success')\n      setTimeout(hide, 2000)\n      setValue('')\n    } else {\n      show('Нельзя создать пустую заметку')\n      setTimeout(hide, 2000)\n    }\n  }\n  return (\n    <form onSubmit={(e) => validation(e)}>\n      <div className=\"form-group\">\n        <input onChange={(e) => setValue(e.target.value)} value={value} type=\"text\" className=\"form-control\" placeholder=\"Введите название заметки\" />\n      </div>\n    </form>\n  )\n}\n","import React from 'react'\nimport { useAlertProvider } from '../context/alert/AlertContext'\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\n\nexport default function Notes({ notes, delNote }) {\n  if (!notes || notes == null) notes = []\n\n  return (\n    <TransitionGroup component=\"ul\" className=\"list-group\">\n      {notes.map((note, index) => (\n        <CSSTransition key={note.id} timeout={800} classNames={'note'}>\n          <li className=\"list-group-item\">\n            <div className=\"list-group-item-content\">\n              <strong>\n                <span>{index + 1}.</span>\n                {note.title}\n                <small>({new Date().toLocaleDateString()})</small>\n              </strong>\n            </div>\n            <button onClick={() => delNote(note.id)} type=\"button\" className=\"btn btn-outline-danger btn-sm\">\n              &times;\n            </button>\n          </li>\n        </CSSTransition>\n      ))}\n    </TransitionGroup>\n  )\n}\n","import React from 'react'\nexport default function Loader() {\n  return (\n    <div className=\"spinner-border\" role=\"status\">\n      <span className=\"visually-hidden\"></span>\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport '../App.css'\nimport Form from '../components/Form'\nimport Notes from '../components/Notes'\nimport Loader from '../components/Loader'\nimport { useFirebaseProvider } from '../context/Firebase/FirebaseContext'\nfunction Home() {\n  const { fetchNotes, notes, delNote } = useFirebaseProvider()\n\n  const loading = useFirebaseProvider().loading\n\n  useEffect(() => {\n    fetchNotes()\n    // eslint-disable-next-line\n  }, [])\n\n  return (\n    <div className=\"home\">\n      <Form />\n      <hr />\n      {loading ? <Loader /> : <Notes notes={notes} delNote={delNote} />}\n    </div>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport { useAlertProvider } from './AlertContext'\nimport { CSSTransition } from 'react-transition-group'\n\nexport default function Alert() {\n  const { alert, hide } = useAlertProvider()\n\n  return (\n    <CSSTransition in={alert.visible} classNames=\"alert\" mountOnEnter unmountOnExit timeout={500}>\n      <div className={`alert alert-${alert.value || 'warning'} alert-dismissible`} role=\"alert\" onClick={hide}>\n        <strong>{alert.text}</strong>\n        <button type=\"button\" className=\"close\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n    </CSSTransition>\n  )\n}\n","import React from 'react'\nimport './App.css'\nimport About from './pages/About'\nimport Nav from './components/Nav'\nimport Home from './pages/Home'\nimport Alert from './context/alert/Alert'\nimport AlertProvider from './context/alert/AlertContext'\nimport FirebaseProvider from './context/Firebase/FirebaseContext'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nfunction App() {\n  return (\n    <FirebaseProvider>\n      <AlertProvider>\n        <Router>\n          <Nav />\n          <div className=\"container\">\n            <Alert />\n            <Switch>\n              <Route path=\"/\" exact component={Home} />\n              <Route path=\"/about\" component={About} />\n            </Switch>\n          </div>\n        </Router>\n      </AlertProvider>\n    </FirebaseProvider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}